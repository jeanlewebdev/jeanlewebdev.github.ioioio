<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Symfony</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        .bleu {
            background-color: blue;
            color: white;
        }
    </style>
</head>

<body>


    <h1>Examen Symfony</h1>


    <h2>Application de Collection de films</h2>

    <p>On développe une application de bibliotheque de films sur symfony. Il ne s'agit pas de vidéos, mais de descriptions de films</p>

    <p>on veut, à terme, pouvoir afficher, créer, supprimer et modifier des films, et faire de meme pour des impressions (commentaires) laissés individuellement sur les films. Egalement, un systeme de gestion des utilisateurs permettra de savoir qui a posté
        un film, et qui a laissé une impression sur un film. Egalement, un systeme de likes sera mis en place sur le films et sur les impressions</p>

    <h1>Les étapes à suivre dans l'ordre :</h1>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky"> 1. Création d'une base de données de films, et d'une nouvelle application symfony vierge</p>

    <p>on utilisera bootstrap</p>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">2. Entité Film : un film aura un nom (string), un (court) résumé (text), un(e) réalisateur/trice (string) et une année de sortie (datetime). Aucun de ces champs n'est autorisé à etre vide</p>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">3. On ajoute quelques films directement par PhpMyAdmin, et on créé un controlleur, avec une methode et un template pour les afficher tous, ainsi qu'une methode (show) pour les afficher individuellement</p>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">il n'y a pas d'image à ce stade-la</p>
    <p class="parag"> <input type="checkbox" name="" id="" class="checky">4. On créé des methodes de création, suppression, et édition de films (création et edition : templates séparés)</p>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">5. Les impressions : création de la nouvelle entité : une Impression aura un contenu (content, de type text), une date de création (de type datetime, qui sera un new \DateTime() à la création d'une nouvelle impression ) et un film (relation)</p>
    <p class="parag"> <input type="checkbox" name="" id="" class="checky">une impression ne sera liée qu'à un seul film, un film pourra etre lié à plusieurs impressions</p>
    <p class="parag"> <input type="checkbox" name="" id="" class="checky">(une Impression est un 'avis' sur un film)</p>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">6. on veut afficher les impressions d'un film sur la page (show) de ce film. Pour cela, on ajoute quelques impressions directement sur PhpMyAdmin pour commencer</p>
    <p class="parag"> <input type="checkbox" name="" id="" class="checky">7. une fois l'affichage fonctionnel, on s'occupe de créer, supprimer et editer une impression</p>
    <p class="parag"> <input type="checkbox" name="" id="" class="checky">le formulaire de création d'impression est directement sur la page du film, le formulaire d'édition est sur un template séparé</p>
    <p class="parag"> <input type="checkbox" name="" id="" class="checky">8. Lorsque tout est fonctionnel, entité User (avec make:user) : dans cette nouvelle entité, on trouvera un username, un password, pas d'envoi d'email, et paramêtres habituels</p>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">9. Créer une fonctionnalité de création de compte, la tester en créant un premier compte</p>
    <p class="parag"> <input type="checkbox" name="" id="" class="checky">10. Créer des methodes de signin et signout et les tester, s'assurer de la bonne configuration du security.yaml</p>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">11. vider les tables SQL et lier les users aux films et impressions de maniere a ce que qu'elles aient toutes deux un auteur, dont on pourra voir le username sur un film ou une impression</p>
    <p class="parag"> <input type="checkbox" name="" id="" class="checky">12. Réadapter les différentes methodes de création/suppression/edition afin qu'un film/une impression ait toujours un auteur pour etre créé, et qu'une édition ou suppression ne puisse etre faite que par son propre auteur (aussi bien pour l'affichage
        des boutons que dans les methodes des controlleurs</p>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">13. Sécuriser les fonctionnalités : sans être connecté, on peut uniquement voir les films et impressions, il faut etre connecté pour créer, supprimer ou éditer</p>
    <hr>
    <hr>
    <h3>Quand tout cela fonctionne :</h3>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">14. Mettre en place un systeme de Like et de compte de likes pour chaque film et impression (entité, migration et controlleur) : pour chaque film ou impression, un bouton sera disponible et affichera le nombre de likes, et sera cliquable lorsque connecté,
        pour ajouter ou retirer un like, eventuellement changer de couleur si l'user en cours à liké ou non. A faire uniquement en PHP pour le moment (laisser la page se recharger, pas de javascript ou re réponse en json, simple redirection</p>

    <hr>
    <hr>
    <h3>BONUS (uniquement quand toutes les étapes précédentes sont fonctionnelles)</h3>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">15. Ajouter une image et une fonctionnalité d'upload d'image pour chaque film (penser à vider la base de données)</p>

    <p class="parag"> <input type="checkbox" name="" id="" class="checky">16. Mettre en place du Javascript pour les likes : reponse en JSON, prevent default sur les boutons, update du status (liké ou pas) et du compte des likes en JS sans recharger la page </p>

    <hr>
    <hr>
    <h3>MAXI-BONUS</h3>
    <p class="parag"> <input type="checkbox" name="" id="" class="checky">14. Mettre en place un systeme de catégorie de film (horreur, comédie etc) avec simplement une propriété description. Les films auront une catégorie, les catégories pourront etre liées à plusieurs films. On ajoutera simplement quelques catégories
        dans la base de données, pas d'interface de création. Réadapter le formulaire de création de films pour choisir une des catégories. (classe EntityType) </p>

    <hr>
    <hr>

    <h3>Ce travail n'est pas un exercice de front-end, il ne faut pas perdre de temps à faire trop de CSS. Quelques classes Bootstrap et une navbar simple suffiront.</h3>
    <p>vous etes libres de vos choix graphiques, du moment que l'interface est simple et que son design n'est pas chronophage</p>
    <h2>Rendu :</h3>
        <p>un dépot github contenant les dossiers : config, src et templates</p>
        <script>
            document.querySelectorAll('.parag').forEach((p) => {
                p.querySelector('.checky').addEventListener('change', () => {
                    if (p.querySelector('.checky').checked) {
                        p.classList.add('bleu')
                    } else {
                        p.classList.remove('bleu')
                    }
                })
            })
        </script>
</body>

</html>